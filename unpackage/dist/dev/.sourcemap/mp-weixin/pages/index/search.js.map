{"version":3,"sources":["uni-app:///main.js","webpack:///D:/AllSecret/we-chat_applet/调剂小程序/pages/index/search.vue?390e","webpack:///D:/AllSecret/we-chat_applet/调剂小程序/pages/index/search.vue?664b","webpack:///D:/AllSecret/we-chat_applet/调剂小程序/pages/index/search.vue?f451","webpack:///D:/AllSecret/we-chat_applet/调剂小程序/pages/index/search.vue?b435","uni-app:///pages/index/search.vue","webpack:///D:/AllSecret/we-chat_applet/调剂小程序/pages/index/search.vue?2be1"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","uniDataSelect","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","g0","_self","_c","data","length","$mp","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped","status","isLastPage","token","type","pages","allPage","searchText","searchSchool","searchMajor","schoolStatus","majorStatus","city","school","major","year","time","cityRange","schoolRange","value","text","majorRange","yearRange","timeRange","onReachBottom","page","totalNum","search","res","schId","majorId","place","onLoad","uni","title","id","key","methods","schoolList","majorList","enterSchool","enterMajor","changeSchool","changeMajor","searchInfo","isNull","toDetial","url"],"mappings":"6IAAA,MAGA,aACA,YAFAA,EAAGC,kCAAoCC,EAGvCC,EAAWC,a,gFCLX,oIACIC,EADJ,QASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,yBACZ,aAAAF,E,0CCvBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,cAAe,WACb,OAAO,2IAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETC,GADKJ,EAAIK,MAAMC,GACVN,EAAIO,KAAKA,KAAKC,QACvBR,EAAIS,IAAIF,KAAOG,OAAOC,OACpB,GACA,CACEC,MAAO,CACLR,GAAIA,MAKRS,GAAmB,EACnBC,EAAkB,GACtBf,EAAOgB,eAAgB,G,iCC1CvB,yHAA6xB,eAAG,G,qJCiEhyB,YACA,SAEA,ilBACA,CACAR,gBACA,OACAS,SACAC,cACAC,SACAC,OACAC,QACAC,WACAC,cACAf,QACAgB,gBACAC,eACAC,gBACAC,eACAC,OACAC,SACAC,QACAC,OACAC,OACAC,aACAC,cACAC,QACAC,kBAGAC,aACAF,QACAC,kBAGAE,YACAH,QACAC,eAGAG,eAIAC,yBAAA,WAEA,sBACA,2BAIA,GAFA,aACA1C,wBACA,gBAEA,OACAqB,iBACAsB,gBACAC,YACAC,yBAEA,2CAIA,OAHA7C,gBACA,gBACA,yBAEA8C,8CACA,6BACA,iEAEA,mBACA9C,sBAEA,CAEAA,uBACA,OACAqB,iBACAsB,gBACAC,YACAG,yDACAC,wDACAd,mDACAe,qDACAhB,qDAEAjC,gBACA,yCACAA,gBACA,eACA,yBAEA,4BACA,uBAEA,mBACAA,kBAKAA,wBAEAkD,mBAAA,WACA,sCACA,qBACA,eAEAC,yBACAC,gBAIAD,yBACAC,gBAEA,kBAAA/B,mBAAA,kBACArB,eACA8C,uCACA,OACAT,QACAC,YACAe,SAEA,uBAEAP,wCACA,OACAT,QACAC,YACAgB,WAEA,uBAEAR,wCACA,OACAT,UACAC,QAEA,0BAEA,mBACAtC,oBAIAuD,SAEAC,sBAAA,WACA,sDACA,gBAAAnC,iBAAAU,2BAAA,kBACA/B,eACA8C,+BACA,OACAT,UACAC,YACAe,SAEA,yBAEArD,8BACA,mBACAA,mBAIAyD,qBAAA,WACA,oDACA,iBAAApC,iBAAAW,yBAAA,kBACAhC,eACA8C,+BACA,OACAT,UACAC,YACAe,SAEA,wBAEArD,6BACA,mBACAA,mBAIA0D,uBACA,sBAGAC,sBACA,qBAGAC,yBACA,qBACA,sBAGAC,uBACA,oBACA,qBAGAC,sBAAA,WAGA,GADA,aACA,gBAEA,OACAzC,iBACAsB,OACAC,YACAC,yBAEA,2CACA7C,gBACA,eACA,yBAEA8C,8CACA,4BACA,uBAEA,mBACA9C,sBAEA,CAEAA,uBACA,OACAqB,iBACAsB,gBACAC,YACAG,yDACAC,wDACAd,mDACAe,qDACAhB,qDAEAjC,eACA,SACA,uEACA+D,MAEA,oEACAA,MAEA,KACA,8BAEA,yCACA/D,gBACA,eACA,yBAEA,4BACA,uBAEA,mBACAA,oBAMAgE,qBACAb,cACAc,yCAIA,c,6DC7UA,yHAAg9C,eAAG,G","file":"pages/index/search.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/index/search.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./search.vue?vue&type=template&id=64d2b7fe&\"\nvar renderjs\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./search.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX.3.3.13.20220314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/search.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX.3.3.13.20220314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX.3.3.13.20220314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../HBuilderX.3.3.13.20220314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX.3.3.13.20220314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX.3.3.13.20220314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.3.3.13.20220314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=template&id=64d2b7fe&\"","var components\ntry {\n  components = {\n    uniDataSelect: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-data-select/components/uni-data-select/uni-data-select\" */ \"@/uni_modules/uni-data-select/components/uni-data-select/uni-data-select.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.data.data.length\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX.3.3.13.20220314.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX.3.3.13.20220314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX.3.3.13.20220314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX.3.3.13.20220314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.3.3.13.20220314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX.3.3.13.20220314.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX.3.3.13.20220314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX.3.3.13.20220314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX.3.3.13.20220314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.3.3.13.20220314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"body\">\r\n\t\t<!-- 模糊搜索框 -->\r\n\t\t<view class=\"search\" v-if=\"status==1\">\r\n\t\t\t<input type=\"text\" placeholder-class=\"placeClass\" v-model=\"searchText\" placeholder=\"请输入内容\" @confirm=\"searchInfo\">\r\n\t\t</view>\r\n\t\t<!-- 精准搜索框 -->\r\n\t\t<view class=\"searchList\" v-else-if=\"status==2\">\r\n\t\t\t<view :class=\"{cell:true, disable:city==0}\">\r\n\t\t\t\t<view class=\"label\">省市:</view>\r\n\t\t\t\t<view class=\"check\">\r\n\t\t\t\t\t<uni-data-select v-model=\"city\" :localdata=\"cityRange\"></uni-data-select>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view :class=\"{cell:true, disable:school==0}\">\r\n\t\t\t\t<view class=\"label\">学校:</view>\r\n\t\t\t\t<view :class=\"{check:true, inputNone:schoolStatus==true, selectNone:schoolStatus==false}\">\r\n\t\t\t\t\t<uni-data-select v-model=\"school\" :localdata=\"schoolRange\" @change=\"changeSchool\"></uni-data-select>\r\n\t\t\t\t\t<input class=\"searchText\" type=\"text\" v-model=\"searchSchool\" @focus=\"enterSchool\" @blur=\"schoolList\" @confirm=\"schoolList\">\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view :class=\"{cell:true, disable:major==0}\">\r\n\t\t\t\t<view class=\"label\">专业名称:</view>\r\n\t\t\t\t<view :class=\"{check:true, inputNones:majorStatus==true, selectNones:majorStatus==false}\">\r\n\t\t\t\t\t<uni-data-select v-model=\"major\" :localdata=\"majorRange\" @change=\"changeMajor\"></uni-data-select>\r\n\t\t\t\t\t<input class=\"searchText\" type=\"text\" v-model=\"searchMajor\" @focus=\"enterMajor\" @blur=\"majorList\" @confirm=\"majorList\">\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view :class=\"{cell:true, disable:year==0}\">\r\n\t\t\t\t<view class=\"label\">年份:</view>\r\n\t\t\t\t<view class=\"check\">\r\n\t\t\t\t\t<uni-data-select v-model=\"year\" :localdata=\"yearRange\"></uni-data-select>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view :class=\"{cell:true, disable:time==0}\">\r\n\t\t\t\t<view class=\"label\">时间:</view>\r\n\t\t\t\t<view class=\"check\">\r\n\t\t\t\t\t<uni-data-select v-model=\"time\" :localdata=\"timeRange\">\r\n\t\t\t\t\t</uni-data-select>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 公告列表 -->\r\n\t\t<view class=\"list\">\r\n\t\t\t<view class=\"tip\" v-if=\"data.data.length<1\">暂无数据</view>\r\n\t\t\t<view class=\"cell\" v-for=\"(item,index) in data.data\" :key=\"index\" @click=\"toDetial(item)\">\r\n\t\t\t\t<view class=\"title\">{{item.title || '暂无标题'}}</view>\r\n\t\t\t\t<view class=\"situation\">\r\n\t\t\t\t\t<view class=\"belonging\">\r\n\t\t\t\t\t\t<view>学校：{{item.schoolName || '未知'}}</view>\r\n\t\t\t\t\t\t<view>专业：{{item.majorName || '未知'}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"num\">招生人数：{{item.num || 0}}人</view>\r\n\t\t\t\t\t<view class=\"times\">\r\n\t\t\t\t\t\t<view>更新时间：{{item.updatetime}}</view>\r\n\t\t\t\t\t\t<view class=\"look\">{{item.click || 0}}次</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"searchButton\" @click=\"searchInfo\">点击搜索</view>\r\n\t</view>\n</template>\n\n<script>\r\n\timport store from '@/store/index.js'; //引入store\r\n\timport {\r\n\t\tindex, searchindex, getschool, getmajlist, searlist, searchlist\r\n\t} from '@/common/http.api.js';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tstatus:1, //2精确，1模糊\r\n\t\t\t\tisLastPage:false, //是否最后一页\r\n\t\t\t\ttoken:'',\r\n\t\t\t\ttype:1, //1官方 2非官方\r\n\t\t\t\tpages:1,\r\n\t\t\t\tallPage:'',\r\n\t\t\t\tsearchText: '', //搜索关键词\r\n\t\t\t\tdata:{},\r\n\t\t\t\tsearchSchool:'', //学校的搜索\r\n\t\t\t\tsearchMajor:'', //专业的搜索\r\n\t\t\t\tschoolStatus:true, //学校隐藏状态\r\n\t\t\t\tmajorStatus:true, //专业隐藏状态\r\n\t\t\t\tcity: 0, //当前城市\r\n\t\t\t\tschool: 0, //当前学校\r\n\t\t\t\tmajor:0, //当前专业名称\r\n\t\t\t\tyear:0, //当前选中年份时间\r\n\t\t\t\ttime:0, //当前查询时间段\r\n\t\t\t\tcityRange: [],\r\n\t\t\t\tschoolRange: [{\r\n\t\t\t\t\t\tvalue: 0,\r\n\t\t\t\t\t\ttext: '请输入后选择学校'\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t\tmajorRange: [{\r\n\t\t\t\t\t\tvalue: 0,\r\n\t\t\t\t\t\ttext: '请输入后选择专业'\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t\tyearRange: [{\r\n\t\t\t\t\t\tvalue: 0,\r\n\t\t\t\t\t\ttext: '请选择年份'\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t\ttimeRange: [],\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 滑动到页面底部加载下一页\r\n\t\tonReachBottom() {\r\n\t\t\t// 判断是否有数据\r\n\t\t\t\tif(this.isLastPage==true){\r\n\t\t\t\t\tthis.$u.toast(\"暂无更多\")\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.pages++\r\n\t\t\t\t\tconsole.log(this.pages)\r\n\t\t\t\t\tif(this.status==1){\r\n\t\t\t\t\t\t// 模糊搜索\r\n\t\t\t\t\t\tlet params = {\r\n\t\t\t\t\t\t\ttoken:this.token,\r\n\t\t\t\t\t\t\tpage:this.pages,\r\n\t\t\t\t\t\t\ttotalNum:10,\r\n\t\t\t\t\t\t\tsearch:this.searchText\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsearchlist({...params}).then(res=>{\r\n\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\tif(res.data.code==-1){\r\n\t\t\t\t\t\t\t\tthis.$u.toast(res.data.data)\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tres.data.data.data.length<10 ? this.isLastPage = true : ''\r\n\t\t\t\t\t\t\t\tthis.allPage = res.data.data.total\r\n\t\t\t\t\t\t\t\tthis.data.data.push(...res.data.data.data)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}).catch(err=>{\r\n\t\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t// 精准搜索\r\n\t\t\t\t\t\tconsole.log(this.time)\r\n\t\t\t\t\t\tlet params = {\r\n\t\t\t\t\t\t\ttoken:this.token,\r\n\t\t\t\t\t\t\tpage:this.pages,\r\n\t\t\t\t\t\t\ttotalNum:30,\r\n\t\t\t\t\t\t\tschId:this.school==0?'' : this.schoolRange[this.school].id,\r\n\t\t\t\t\t\t\tmajorId:this.major==0?'' : this.majorRange[this.major].id,\r\n\t\t\t\t\t\t\ttime:this.time==0?'' : this.timeRange[this.time].key,\r\n\t\t\t\t\t\t\tplace:this.city==0?'' : this.cityRange[this.city].text,\r\n\t\t\t\t\t\t\tyear:this.year==0?'' : this.yearRange[this.year].text,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconsole.log(params)\r\n\t\t\t\t\t\tsearlist({...params}).then(res=>{\r\n\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\tif(res.data.code==-1){\r\n\t\t\t\t\t\t\t\tthis.$u.toast(res.data.data)\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tthis.allPage = res.data.data.total\r\n\t\t\t\t\t\t\t\tthis.data = res.data.data\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}).catch(err=>{\r\n\t\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// this.getData(); // 获取数据\r\n\t\t\t\tconsole.log('我滚动到底部了')\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\tthis.token = store.state.vuex_token\r\n\t\t\tthis.status = option.status\r\n\t\t\tif(this.status==1){\r\n\t\t\t\t//模糊搜索\r\n\t\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\t\ttitle: '模糊搜索'\r\n\t\t\t\t});\r\n\t\t\t}else{\r\n\t\t\t\t//精确搜索\r\n\t\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\t\ttitle: '精准搜索'\r\n\t\t\t\t});\r\n\t\t\t\tsearchindex({token:this.token}).then(res=>{\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tres.data.data.proList.map((item,index)=>{\r\n\t\t\t\t\t\tlet obj = {\r\n\t\t\t\t\t\t\tvalue:index,\r\n\t\t\t\t\t\t\ttext:item.name,\r\n\t\t\t\t\t\t\tid:item.id\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.cityRange.push(obj)\r\n\t\t\t\t\t})\r\n\t\t\t\t\tres.data.data.timeList.map((item,index)=>{\r\n\t\t\t\t\t\tlet obj = {\r\n\t\t\t\t\t\t\tvalue:index,\r\n\t\t\t\t\t\t\ttext:item.name,\r\n\t\t\t\t\t\t\tkey:item.key\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.timeRange.push(obj)\r\n\t\t\t\t\t})\r\n\t\t\t\t\tres.data.data.yearList.map((item,index)=>{\r\n\t\t\t\t\t\tlet obj = {\r\n\t\t\t\t\t\t\tvalue:index+1,\r\n\t\t\t\t\t\t\ttext:item,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.yearRange.push(obj)\r\n\t\t\t\t\t})\r\n\t\t\t\t}).catch(err=>{\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 获取学校列表\r\n\t\t\tschoolList() {\r\n\t\t\t\tthis.schoolRange.splice(1, this.schoolRange.length-1)\r\n\t\t\t\tgetschool({token:this.token, school:this.searchSchool}).then(res=>{\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tres.data.data.map((item,index)=>{\r\n\t\t\t\t\t\tlet obj = {\r\n\t\t\t\t\t\t\tvalue:index+1,\r\n\t\t\t\t\t\t\ttext:item.name,\r\n\t\t\t\t\t\t\tid:item.id\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.schoolRange.push(obj)\r\n\t\t\t\t\t})\r\n\t\t\t\t\tconsole.log(this.schoolRange)\r\n\t\t\t\t}).catch(err=>{\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 获取专业列表\r\n\t\t\tmajorList() {\r\n\t\t\t\tthis.majorRange.splice(1, this.majorRange.length-1)\r\n\t\t\t\tgetmajlist({token:this.token, major:this.searchMajor}).then(res=>{\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tres.data.data.map((item,index)=>{\r\n\t\t\t\t\t\tlet obj = {\r\n\t\t\t\t\t\t\tvalue:index+1,\r\n\t\t\t\t\t\t\ttext:item.name,\r\n\t\t\t\t\t\t\tid:item.id\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.majorRange.push(obj)\r\n\t\t\t\t\t})\r\n\t\t\t\t\tconsole.log(this.majorRange)\r\n\t\t\t\t}).catch(err=>{\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 输入学校\r\n\t\t\tenterSchool() {\r\n\t\t\t\tthis.schoolStatus = false\r\n\t\t\t},\r\n\t\t\t// 输入专业\r\n\t\t\tenterMajor() {\r\n\t\t\t\tthis.majorStatus = false\r\n\t\t\t},\r\n\t\t\t// 选择学校\r\n\t\t\tchangeSchool(e) {\r\n\t\t\t\tthis.schoolStatus = true\r\n\t\t\t\tthis.searchSchool = ''\r\n\t\t\t},\r\n\t\t\t// 选择专业\r\n\t\t\tchangeMajor() {\r\n\t\t\t\tthis.majorStatus = true\r\n\t\t\t\tthis.searchMajor = ''\r\n\t\t\t},\r\n\t\t\t// 搜索信息\r\n\t\t\tsearchInfo() {\r\n\t\t\t\t// 清空上次搜索数据\r\n\t\t\t\tthis.data = {}\r\n\t\t\t\tif(this.status==1){\r\n\t\t\t\t\t// 模糊搜索\r\n\t\t\t\t\tlet prams = {\r\n\t\t\t\t\t\ttoken:this.token,\r\n\t\t\t\t\t\tpage:1,\r\n\t\t\t\t\t\ttotalNum:10,\r\n\t\t\t\t\t\tsearch:this.searchText\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsearchlist({...prams}).then(res=>{\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tif(res.data.code==-1){\r\n\t\t\t\t\t\t\tthis.$u.toast(res.data.data)\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tres.data.data.data.length<10 ? this.isLastPage = true : ''\r\n\t\t\t\t\t\t\tthis.allPage = res.data.data.total\r\n\t\t\t\t\t\t\tthis.data = res.data.data\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).catch(err=>{\r\n\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t})\r\n\t\t\t\t}else{\r\n\t\t\t\t\t// 精准搜索\r\n\t\t\t\t\tconsole.log(this.time)\r\n\t\t\t\t\tlet params = {\r\n\t\t\t\t\t\ttoken:this.token,\r\n\t\t\t\t\t\tpage:this.pages,\r\n\t\t\t\t\t\ttotalNum:30,\r\n\t\t\t\t\t\tschId:this.school==0?'' : this.schoolRange[this.school].id,\r\n\t\t\t\t\t\tmajorId:this.major==0?'' : this.majorRange[this.major].id,\r\n\t\t\t\t\t\ttime:this.time==0?'' : this.timeRange[this.time].key,\r\n\t\t\t\t\t\tplace:this.city==0?'' : this.cityRange[this.city].text,\r\n\t\t\t\t\t\tyear:this.year==0?'' : this.yearRange[this.year].text,\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log(params)\r\n\t\t\t\t\tlet isNull = false\r\n\t\t\t\t\tif(this.searchSchool.length>0 && this.schoolRange[this.school].id==undefined){\r\n\t\t\t\t\t\tisNull = true\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(this.searchMajor.length>0 && this.majorRange[this.major].id==undefined){\r\n\t\t\t\t\t\tisNull = true\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(isNull==true){\r\n\t\t\t\t\t\tthis.$u.toast('请输入后选择学校/专业')\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tsearlist({...params}).then(res=>{\r\n\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\tif(res.data.code==-1){\r\n\t\t\t\t\t\t\t\tthis.$u.toast(res.data.data)\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tthis.allPage = res.data.data.total\r\n\t\t\t\t\t\t\t\tthis.data = res.data.data\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}).catch(err=>{\r\n\t\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 去详情\r\n\t\t\ttoDetial(item) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:'/pages/index/details?id='+item.id\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t}\r\n\t}\n</script>\n\n<style lang=\"scss\">\r\n\t.body{\r\n\t\twidth: 100vw;\r\n\t\tmin-height: 96vh;\r\n\t\tbackground-color: #f7f6fb;\r\n\t\tposition: relative;\r\n\t\t// overflow: auto;\r\n\t\tpadding: 2vh 0;\r\n\t\t.search {\r\n\t\t\tmargin: 0 5%;\r\n\t\t\tbackground-color: #fff;\r\n\t\t\tmargin-bottom: 30rpx;\r\n\t\t\twidth: 90%;\r\n\t\t\tpadding: 20rpx 0;\r\n\t\t\theight: 80rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: center;\r\n\t\t\talign-items: center;\r\n\t\t\tborder-radius: 20rpx;\r\n\t\t\t.placeClass {\r\n\t\t\t\tcolor: #797a7c;\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\theight: 70rpx;\r\n\t\t\t\tline-height: 70rpx;\r\n\t\t\t}\r\n\t\t\r\n\t\t\tinput {\r\n\t\t\t\twidth: 80%;\r\n\t\t\t\theight: 70rpx;\r\n\t\t\t\tline-height: 70rpx;\r\n\t\t\t\tpadding-left: 80rpx;\r\n\t\t\t\tborder-radius: 50rpx;\r\n\t\t\t\tbackground-color: #f7f6fb;\r\n\t\t\t\tbackground-image: url(../../static/index/search_icon.png);\r\n\t\t\t\tbackground-repeat: no-repeat;\r\n\t\t\t\tbackground-size: 30rpx;\r\n\t\t\t\tbackground-position: 30rpx center;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t.searchList {\r\n\t\t\tbackground-color: #fff;\r\n\t\t\tmargin: 0 5%;\r\n\t\t\tpadding: 30rpx;\r\n\t\t\tborder-radius: 20rpx;\r\n\t\t\t.cell {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tline-height: 58rpx;\r\n\t\t\t\tmargin-bottom: 50rpx;\r\n\t\t\t\tcolor: #545454;\r\n\t\t\r\n\t\t\t\t.label {\r\n\t\t\t\t\twidth: 30%;\r\n\t\t\t\t}\r\n\t\t\t\t.inputNone{\r\n\t\t\t\t\t.searchText{\r\n\t\t\t\t\t\tcolor: #fff !important;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t.selectNone{\r\n\t\t\t\t\t.uni-select__input-text{\r\n\t\t\t\t\t\tcolor: #fff !important;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t.inputNones{\r\n\t\t\t\t\t.searchText{\r\n\t\t\t\t\t\tcolor: #fff !important;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t.selectNones{\r\n\t\t\t\t\t.uni-select__input-text{\r\n\t\t\t\t\t\tcolor: #fff !important;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t.check {\r\n\t\t\t\t\twidth: 80%;\r\n\t\t\t\t\tbackground-image: url(../../static/assessment/check_icon.png);\r\n\t\t\t\t\tbackground-repeat: no-repeat;\r\n\t\t\t\t\tbackground-position: 95% center;\r\n\t\t\t\t\tbackground-size: 20rpx;\r\n\t\t\t\t\tposition: relative;\r\n\t\t\t\t\t.searchText{\r\n\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\tleft: 0;\r\n\t\t\t\t\t\ttop: 0;\r\n\t\t\t\t\t\twidth: 85%;\r\n\t\t\t\t\t\tline-height: 72rpx;\r\n\t\t\t\t\t\theight: 72rpx;\r\n\t\t\t\t\t\tpadding-left: 20rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.uni-select {\r\n\t\t\t\t\t\tfont-size: 28rpx !important;\r\n\t\t\t\t\t\tborder-radius: 0 !important;\r\n\t\t\t\t\t\tline-height: 72rpx;\r\n\t\t\t\t\t\theight: 72rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.uni-select__selector{\r\n\t\t\t\t\t\toverflow-y: scroll !important;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.uni-select__input-text{\r\n\t\t\t\t\t\twidth: 60% !important;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.cell:last-child{\r\n\t\t\t\tmargin-bottom: 0;\r\n\t\t\t}\r\n\t\t\t.disable {\r\n\t\t\t\t.uni-select__input-text {\r\n\t\t\t\t\tcolor: #b2b2b2 !important;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.list {\r\n\t\t\tmargin: 0 5%;\r\n\t\t\t.tip{\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tmargin: 20rpx;\r\n\t\t\t}\r\n\t\t\t.cell {\r\n\t\t\t\tpadding-bottom: 30rpx;\r\n\t\t\t\tmargin-bottom: 20rpx;\r\n\t\t\t\tbackground-color: #fff;\r\n\t\t\t\tborder-radius: 20rpx;\r\n\t\t\r\n\t\t\t\t.title {\r\n\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\tmargin: 0 30rpx;\r\n\t\t\t\t\tpadding: 30rpx 0;\r\n\t\t\t\t\tpadding-left: 70rpx;\r\n\t\t\t\t\tborder-bottom: 2rpx solid #f7f6fb;\r\n\t\t\t\t\tbackground-image: url(../../static/index/icon.png);\r\n\t\t\t\t\tbackground-repeat: no-repeat;\r\n\t\t\t\t\tbackground-position: 0rpx center;\r\n\t\t\t\t\tbackground-size: 40rpx;\r\n\t\t\t\t\tmargin-bottom: 20rpx;\r\n\t\t\t\t\twidth: 80%;\r\n\t\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t}\r\n\t\t\r\n\t\t\t\t.situation {\r\n\t\t\t\t\tmargin: 0 30rpx;\r\n\t\t\t\t\twidth: 85%;\r\n\t\t\t\t\tfont-family: cursive;\r\n\t\t\r\n\t\t\t\t\t.belonging {\r\n\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tfont-weight: 300;\r\n\t\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\t\tcolor: #929292;\r\n\t\t\t\t\t\tline-height: 48rpx;\r\n\t\t\t\t\t\tview{\r\n\t\t\t\t\t\t\twidth: 400rpx;\r\n\t\t\t\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\r\n\t\t\t\t\t.num {\r\n\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\tfont-weight: 300;\r\n\t\t\t\t\t\tcolor: #929292;\r\n\t\t\t\t\t\tline-height: 48rpx;\r\n\t\t\t\t\t}\r\n\t\t\r\n\t\t\t\t\t.times {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\t\tfont-weight: 300;\r\n\t\t\t\t\t\tcolor: #929292;\r\n\t\t\r\n\t\t\t\t\t\t.look {\r\n\t\t\t\t\t\t\tbackground-color: #fedbd8;\r\n\t\t\t\t\t\t\tcolor: #fa4a3e;\r\n\t\t\t\t\t\t\tpadding: 6rpx 14rpx;\r\n\t\t\t\t\t\t\tpadding-left: 48rpx;\r\n\t\t\t\t\t\t\tborder-radius: 50rpx;\r\n\t\t\t\t\t\t\tbackground-image: url(../../static/index/look.png);\r\n\t\t\t\t\t\t\tbackground-repeat: no-repeat;\r\n\t\t\t\t\t\t\tbackground-position: 12rpx center;\r\n\t\t\t\t\t\t\tbackground-size: 30rpx;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.searchButton{\r\n\t\t\tposition: fixed;\r\n\t\t\tbottom: 20rpx;\r\n\t\t\tleft: 5%;\r\n\t\t\tright: 5%;\r\n\t\t\tline-height: 88rpx;\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tcolor: #fff;\r\n\t\t\ttext-align: center;\r\n\t\t\tborder-radius: 50rpx;\r\n\t\t\tbackground-color: #ffd656;\r\n\t\t}\r\n\t}\n</style>","import mod from \"-!../../../../../HBuilderX.3.3.13.20220314.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX.3.3.13.20220314.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX.3.3.13.20220314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX.3.3.13.20220314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX.3.3.13.20220314.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX.3.3.13.20220314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX.3.3.13.20220314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX.3.3.13.20220314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.3.3.13.20220314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../HBuilderX.3.3.13.20220314.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX.3.3.13.20220314.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX.3.3.13.20220314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX.3.3.13.20220314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX.3.3.13.20220314.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX.3.3.13.20220314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX.3.3.13.20220314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX.3.3.13.20220314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.3.3.13.20220314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}